(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,o){for(var n=0;n<o.length;n++){var r=o[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,l=void 0,l=function(t,o){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,o||"default");if("object"!==e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(t)}(i,"string"),"symbol"===e(l)?l:String(l)),r)}var i,l}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()}var o,n,r;return o=e,(n=[{key:"setupDomReferences",value:function(){this.list=document.getElementById("book-list"),this.container=document.querySelector(".js-container"),this.form=document.querySelector("#book-form"),this.title=document.getElementById("title"),this.author=document.getElementById("author"),this.isbn=document.getElementById("isbn")}},{key:"addBookToList",value:function(e){var t=document.createElement("tr");t.className="row",t.innerHTML="\n      <td class='col'>".concat(e.title,"</td>\n      <td class='col'>").concat(e.author,"</td>\n      <td class='col'>").concat(e.isbn,'</td>\n      <td class=\'col\'>\n      <a href="#" class="delete">X</a></td>\n    '),this.list.appendChild(t)}},{key:"showAlert",value:function(e,t){var o=document.createElement("div");o.className="alert ".concat(t," col"),o.appendChild(document.createTextNode(e)),this.container.insertBefore(o,this.form),setTimeout((function(){document.querySelector(".alert").remove()}),3e4)}},{key:"deleteBook",value:function(e){e.parentElement.parentElement.remove()}},{key:"clearFields",value:function(){this.title.value="",this.author.value="",this.isbn.value=""}},{key:"init",value:function(){this.setupDomReferences()}}])&&t(o.prototype,n),r&&t(o,r),Object.defineProperty(o,"prototype",{writable:!1}),e}();function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,l=void 0,l=function(e,t){if("object"!==n(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===n(l)?l:String(l)),r)}var i,l}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"getBooks",value:function(){return null===localStorage.getItem("books")?[]:JSON.parse(localStorage.getItem("books"))}},{key:"displayBooks",value:function(){e.getBooks().forEach((function(e){(new o).addBookToList(e)}))}},{key:"addBook",value:function(t){var o=e.getBooks();o.push(t),localStorage.setItem("books",JSON.stringify(o))}},{key:"removeBook",value:function(t){var o=e.getBooks();o.forEach((function(e,n){e.isbn===t&&o.splice(n,1)})),localStorage.setItem("books",JSON.stringify(o))}}],(n=null)&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function a(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(r=n.key,i=void 0,i=function(e,t){if("object"!==l(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===l(i)?i:String(i)),n)}var r,i}function u(e,t,o){return t&&a(e.prototype,t),o&&a(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}var c=u((function e(t,o,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title=t,this.author=o,this.isbn=n}));const s=function(){var e={state:{},elements:{}},t=function(){"loading"!==document.readyState?i.displayBooks():document.addEventListener("DOMContentLoaded",(function(){})),e.elements.bookForm.addEventListener("submit",(function(t){t.preventDefault();var n=e.elements.title.value,r=e.elements.author.value,l=e.elements.isbn.value,a=new c(n,r,l),u=new o;""===n||""===r||""===l?u.showAlert("Please fill in all fields","error"):(u.addBookToList(a),i.addBook(a),u.showAlert("Book Added!","success"),u.clearFields())})),e.elements.bookList.addEventListener("click",(function(e){e.preventDefault();var t=new o,n=e.target;"delete"===n.className&&(i.removeBook(n.parentElement.previousElementSibling.textContent),t.deleteBook(n)),t.showAlert("Book Removed!","success")}))};(function(){e.elements.bookForm=document.getElementById("book-form"),e.elements.bookList=document.getElementById("book-list"),e.elements.title=document.getElementById("title"),e.elements.author=document.getElementById("author"),e.elements.isbn=document.getElementById("isbn")})(),t()};document.querySelectorAll("[data-js-widget=BookList]").forEach((function(e){s(e)}))})();